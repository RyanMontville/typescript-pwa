import{i as C,s as y,g as S}from"./main-BiMAuNzI.js";import{G as g,b as w}from"./userService-F1837HXZ.js";/* empty css           */import{c as m}from"./utils-C-yoJ75Q.js";import{g as p,r as h,c as P}from"./createNodeTree-CLnQ_f2W.js";import"./canvasService-C9-bMTln.js";let o=0,s="";const n=document.querySelector("main");let l=null;C("users","",!0).then(async()=>{o=S();const e=new URLSearchParams(window.location.search).get("username");e&&(s=e),l=await g(o,s),await b(),document.title=`${s} - Canvas Stats`,n.classList.remove("hide");const t=document.getElementById("loading");t&&t.remove(),y(!0)});function v(a,e){return{year:e,username:a||"You",blocks:[{type:"standard",layout:"left",icon:"person_cancel",content:[`${a} did not participate in Canvas ${e}`]},{type:"standard",layout:"left",content:[[{linkText:"Click here",page:"/users",external:!1,queryParams:{year:e},classes:""},` to view the users who participated in ${e}`]]},{type:"standard",layout:"left",content:[["If you still can't find your username and you truely believe you did participate in 2024, send a DM to ",{linkText:"@the_real_monte",url:"https://sh.itjust.works/u/the_real_monte",external:!0,queryParams:{},classes:""}," and we can check the database."]]}]}}async function b(){if(s!==""){const a=await w(s,o);if(a){const e=m("h2",s);n.appendChild(e),a.blocks.forEach(t=>{const c=p(t,o);if(t.type==="user-color-grid"){const r=document.createElement("article");r.setAttribute("class",`${t.layout} colorStat`);const u=document.createElement("div");u.setAttribute("id","colorCountsPieChart"),r.appendChild(u);const i=document.createElement("section");if(i.setAttribute("class","color-section"),t.title){const f=m("h3",t.title);i.appendChild(f)}const d=document.createElement("div");d.setAttribute("id","tooltip"),i.appendChild(d),r.appendChild(i),n.appendChild(r)}else h(c,n)}),l&&P(2025,l,"colorCountsPieChart",!0,"slice-clickable")}else v(s,o).blocks.forEach(t=>{const c=p(t,o);h(c,n)})}else console.warn("Didn't find username")}
